name: Keep Streamlit Apps Alive

on:
  schedule:
    - cron: "*/1 * * * *"
  workflow_dispatch:

jobs:
  ping_apps:
    runs-on: ubuntu-latest
    steps:
      - name: Wake up Streamlit Apps
        run: |
          # La bandera '|| true' al final asegura que GitHub marque exito siempre
          # -s: Silent (no muestra barra de progreso)
          # -o /dev/null: No guarda el archivo (solo lo visita)
          
          curl -s -o /dev/null https://forecast-demand-retail.streamlit.app/ || true
          curl -s -o /dev/null https://smartretail-crm-intelligence.streamlit.app/ || true
          curl -s -o /dev/null https://price-optimization-model.streamlit.app/ || true
          curl -s -o /dev/null https://socioeconomic-status-classification-model.streamlit.app/ || true
          curl -s -o /dev/null https://firebird-erp-analytics-dashboard.streamlit.app/ || true
          curl -s -o /dev/null https://risk-rate-estimation.streamlit.app/ || true
          curl -s -o /dev/null https://graficodinamico.streamlit.app/ || true
          curl -s -o /dev/null https://mathematical-modeling-of-covid.streamlit.app/ || true
          curl -s -o /dev/null https://circumbinary-planet-stability.streamlit.app/ || true
          
          echo "Todas las apps han sido visitadas."
